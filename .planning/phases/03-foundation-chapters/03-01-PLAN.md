---
phase: 03-foundation-chapters
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - docusaurus.config.ts
  - docs/01-bbj-challenge/index.md
autonomous: true

must_haves:
  truths:
    - "BBj code blocks render with syntax highlighting (colored keywords, strings, comments) in both light and dark themes"
    - "The language identifier `bbj` works in fenced code blocks"
    - "Existing chapter placeholder content still renders correctly after the config change"
  artifacts:
    - path: "docusaurus.config.ts"
      provides: "Prism BBj language registration"
      contains: "additionalLanguages.*bbj"
    - path: "docs/01-bbj-challenge/index.md"
      provides: "Renamed to index.mdx for Tabs support in Chapter 1"
  key_links:
    - from: "docusaurus.config.ts"
      to: "node_modules/prismjs/components/prism-bbj.js"
      via: "Prism additionalLanguages loader"
      pattern: "additionalLanguages.*bbj"
---

<objective>
Configure BBj syntax highlighting in Docusaurus and rename Chapter 1's index file to .mdx for Tabs support.

Purpose: All three foundation chapters will contain BBj code examples. Without syntax highlighting, code blocks render as plain monochrome text, undermining the professional presentation. Chapter 1 specifically needs the `.mdx` extension because it will use `<Tabs>` for cross-generation code comparisons.

Output: BBj code blocks render with proper syntax highlighting site-wide; Chapter 1 is ready for MDX content.
</objective>

<execution_context>
@/Users/beff/.claude/get-shit-done/workflows/execute-plan.md
@/Users/beff/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-foundation-chapters/03-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add BBj to Prism additionalLanguages and rename Chapter 1 to .mdx</name>
  <files>docusaurus.config.ts, docs/01-bbj-challenge/index.md</files>
  <action>
1. In `docusaurus.config.ts`, find the `prism` config block inside `themeConfig`:

```typescript
prism: {
  theme: prismThemes.github,
  darkTheme: prismThemes.dracula,
},
```

Add the `additionalLanguages` array:

```typescript
prism: {
  theme: prismThemes.github,
  darkTheme: prismThemes.dracula,
  additionalLanguages: ['bbj'],
},
```

2. Rename `docs/01-bbj-challenge/index.md` to `docs/01-bbj-challenge/index.mdx`. This is needed because Chapter 1 will use `<Tabs>` and `<TabItem>` JSX components for cross-generation code comparisons. The content stays the same -- only the extension changes.

3. Verify the BBj Prism grammar exists in the project:
   - Check that `node_modules/prismjs/components/prism-bbj.js` exists (it should, confirmed in research).

4. Run `npm run build` to confirm the site builds without errors after these changes.
  </action>
  <verify>
- `grep -q "additionalLanguages.*bbj" docusaurus.config.ts` returns 0
- `ls docs/01-bbj-challenge/index.mdx` succeeds (file exists)
- `ls docs/01-bbj-challenge/index.md` fails (old file removed)
- `npm run build` completes with exit code 0
  </verify>
  <done>
- docusaurus.config.ts has `additionalLanguages: ['bbj']` in prism config
- Chapter 1 index file is `.mdx` extension
- Site builds successfully
- BBj code blocks will render with syntax highlighting (keywords blue, strings red/pink, comments gray) in both light and dark themes
  </done>
</task>

</tasks>

<verification>
- Run `npm run build` -- zero errors
- Confirm `additionalLanguages: ['bbj']` is present in docusaurus.config.ts
- Confirm docs/01-bbj-challenge/index.mdx exists
- Confirm docs/01-bbj-challenge/index.md does NOT exist (was renamed, not copied)
</verification>

<success_criteria>
BBj syntax highlighting is configured and Chapter 1 is ready for MDX content. The site builds cleanly. All three chapter writing plans (03-02, 03-03, 03-04) can now use `bbj` fenced code blocks with confidence.
</success_criteria>

<output>
After completion, create `.planning/phases/03-foundation-chapters/03-01-SUMMARY.md`
</output>
