---
phase: 34-ide-integration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [docs/04-ide-integration/index.md]
autonomous: true

must_haves:
  truths:
    - "Continue.dev is presented as the primary IDE integration path with a full config.yaml walkthrough"
    - "Chat mode and tab completion mode are clearly separated with different model requirements"
    - "The FIM training gap is explained: ChatML data supports chat but not tab completion"
    - "Copilot BYOK limitations are clearly stated with Enterprise public preview update"
    - "Comparison table shows Continue.dev vs Copilot BYOK vs Language Server across key dimensions"
  artifacts:
    - path: "docs/04-ide-integration/index.md"
      provides: "Core chapter restructure with Continue.dev primary section and Copilot reframe"
      contains: "config.yaml"
  key_links:
    - from: "docs/04-ide-integration/index.md"
      to: "docs/03-fine-tuning/index.md"
      via: "Chapter cross-reference for training data and FIM gap"
      pattern: "/docs/fine-tuning"
---

<objective>
Restructure Chapter 4 (IDE Integration) to lead with Continue.dev as the primary near-term IDE integration path, reframe Copilot BYOK as a limited alternative, and explain the FIM training gap that separates chat from tab completion.

Purpose: Chapter 4 currently treats Continue.dev as a 6-line mention under "Alternative Architectures." This plan promotes it to a primary section with a full config walkthrough, rewrites the Copilot section as a direct contrast, and adds the FIM training gap explanation that connects Chapter 3's training data decisions to IDE capabilities.

Output: Restructured Chapter 4 with new problem-focused intro, TL;DR update, full Continue.dev section (chat + tab completion + FIM gap + config.yaml walkthrough), and rewritten Copilot section with comparison table.
</objective>

<execution_context>
@/Users/beff/.claude/get-shit-done/workflows/execute-plan.md
@/Users/beff/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/34-ide-integration/34-RESEARCH.md
@.planning/phases/34-ide-integration/34-CONTEXT.md
@docs/04-ide-integration/index.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rewrite top sections + new Continue.dev primary section</name>
  <files>docs/04-ide-integration/index.md</files>
  <action>
Rewrite the top portion of Chapter 4 and add the new Continue.dev primary section. Specific changes:

**1. Update YAML front matter description** to reflect Continue.dev as the primary near-term path alongside the language server foundation.

**2. Rewrite TL;DR** (lines 9-11). Keep as architectural overview (per user decision: "updated for accuracy but not reframed as actionable summary"). Update to mention:
- Two-layer architecture (Langium popup + generative ghost text) remains the strategic vision
- Continue.dev as the near-term delivery path for connecting fine-tuned models to the IDE
- Language server provides BBj-specific intelligence; Continue.dev provides model delivery
- Remove "shipped" -- use "operational" per Phase 32 conventions
- Remove "Copilot BYOK bridge as strategic path" framing

**3. Replace intro paragraphs** (lines 13-17) with a problem-focused intro per user decision: "What does IDE integration for a zero-representation language like BBj need?" Frame around:
- BBj has zero representation in training data of any mainstream AI coding tool
- Generic copilots produce plausible-looking code that fails to compile
- IDE integration needs: a model that understands BBj + a delivery mechanism that reaches the editor + validation that catches remaining errors
- Two parallel strategies: Continue.dev for near-term model delivery, bbj-language-server for BBj-specific intelligence

**4. Write new "## The Near-Term Path: Continue.dev" section** (~100-150 lines). This is the biggest new content. Structure per user decisions:

**### Chat Mode: Works Today**
- Instruction-tuned model (e.g., Qwen2.5-Coder-14B) via Ollama handles conversational BBj questions
- Works with current ChatML training data from bbjllm (9,922 examples)
- Config walkthrough showing the chat portion of config.yaml
- Note: "When the fine-tuned BBj model is ready, swap `qwen2.5-coder:14b` for `bbj-coder:14b`"

**### Tab Completion: Needs FIM-Trained Model**
- Ghost text / inline completion uses FIM (Fill-in-the-Middle) format, not ChatML
- Autocomplete models are intentionally small (1.5B-7B) -- speed matters more than size
- Config walkthrough showing the autocomplete portion of config.yaml with `autocompleteOptions`
- Generic Qwen2.5-Coder-1.5B works today for general code; BBj-specific tab completion requires FIM fine-tuning

**### The FIM Training Gap** (Claude's discretion: implement as subsection, not callout -- needs space for technical detail)
- ChatML instruction format (`<|im_start|>`, `<|im_end|>`) vs FIM format (`<|fim_prefix|>`, `<|fim_suffix|>`, `<|fim_middle|>`)
- Current bbjllm training data (9,922 ChatML examples) supports chat but structurally cannot produce FIM completions
- Include the BBj-specific FIM example from research:
  ```
  <|fim_prefix|>method public void loadOrder(BBjNumber orderId)
      #currentOrderId = orderId
      declare BBjRecordSet rs!
      rs! = #getOrderRecordSet(orderId)
      #custGrid!.<|fim_suffix|>
      methodend<|fim_middle|>setData(rs!)<|endoftext|>
  ```
- Path forward: separate FIM fine-tuning step on BBj source code (reference Chapter 3 two-stage approach)
- Practical consequence: Continue.dev supports separate models for chat and autocomplete roles -- when FIM-trained BBj model exists, drop it in as the autocomplete model

**Full config.yaml example** -- show the complete verified config from research (YAML format, NOT deprecated JSON -- per research Open Question 1 resolution). Include:
- `name: BBj Development`, `version: 0.0.1`, `schema: v1`
- Chat model: `qwen2.5-coder:14b` with roles `[chat, edit, apply]`
- Autocomplete model: `qwen2.5-coder:1.5b` with role `[autocomplete]` and `autocompleteOptions`
- Context providers: code, docs, diff, terminal, problems, folder, codebase
- Add comments showing where to swap in fine-tuned BBj models

**Important:** Use config.yaml format (YAML), NOT config.json. The research confirms JSON is deprecated. Add a brief note: "Continue.dev uses `~/.continue/config.yaml` (the older JSON format is deprecated but still works)."

**Architecture note:** Briefly mention that Continue.dev's autocomplete uses `InlineCompletionItemProvider` internally -- the same VS Code API described later in the ghost text section. This creates a natural connection between the "pragmatic now" and the "strategic future."
  </action>
  <verify>
1. Read the modified file and confirm:
   - TL;DR mentions Continue.dev and two-layer architecture without "shipped" or "production"
   - Intro poses the zero-representation problem
   - Continue.dev section has chat and tab completion subsections
   - FIM gap subsection explains ChatML vs FIM incompatibility
   - Config.yaml example uses YAML format with separate chat and autocomplete models
   - All code blocks have correct syntax (yaml, text)
2. Grep for prohibited terms: "shipped", "production", "deployed", "in progress" in the modified sections
  </verify>
  <done>
- Continue.dev is the first major section after the intro with a full config.yaml walkthrough
- Chat mode and tab completion are clearly separated with different model requirements
- FIM training gap is explained with BBj-specific example
- Config shows generic Ollama models with notes about swapping in fine-tuned BBj models
- No prohibited terminology in new content
  </done>
</task>

<task type="auto">
  <name>Task 2: Rewrite Copilot section + add comparison table + eliminate Alternative Architectures</name>
  <files>docs/04-ide-integration/index.md</files>
  <action>
Rewrite the Copilot and Alternative Architectures sections. Specific changes:

**1. Replace "## The Copilot Bridge" with "## Why Not Copilot?"** (or similar per user decision to "contrast directly with Continue.dev")

Rewrite to focus on the contrast with Continue.dev:
- What BYOK offers: chat with local model via Ollama (Ask Mode), expanding provider support (AWS Bedrock, Google AI Studio, etc.)
- What BYOK does NOT offer: "BYOK does not currently work with completions" -- quote from VS Code official docs
- **Update Enterprise availability**: Replace "BYOK is not yet available for Copilot Business or Enterprise plans" with: Enterprise/Business BYOK is now in public preview as of January 2026 (per research finding). But the core limitation (no inline completions) is unchanged regardless of plan tier.
- Copilot service dependencies: even with BYOK, embeddings/indexing/query refinement still require internet + Copilot subscription
- The contrast: Continue.dev gives you both chat AND tab completion with local models, open source, no subscription required

**2. Add comparison table** (per user decision). Use the verified data from research:

| Feature | Continue.dev | Copilot BYOK | Custom Language Server |
|---------|-------------|-------------|----------------------|
| Chat with local model | Yes (Ollama) | Yes (Ask Mode only) | Planned (via MCP) |
| Tab completion with local model | Yes (FIM-capable models) | No | Planned (InlineCompletionItemProvider) |
| BBj language awareness | None (generic) | None (generic) | Full (Langium parser, AST, scope) |
| Generation detection | No | No | Planned (character/vpro5/bbj-gui/dwc) |
| Compiler validation | No | No | Planned (bbjcpl in-the-loop) |
| Multi-editor support | VS Code + JetBrains | VS Code only | VS Code + IntelliJ (extensions in repo) |
| Effort to integrate | Low (config file) | Low (built-in) | High (custom development) |
| Subscription required | No (open source) | Yes (Copilot + internet) | No |

**3. Update the Decision callout** for Copilot. Reframe from "Copilot Bridge is Complementary" to reflect Continue.dev as the primary path. The framing should be: "Continue.dev fills the gap that Copilot BYOK leaves -- both chat and inline completion with local models. Copilot remains useful if developers already have it, but it is not the recommended path for BBj-specific AI integration."

Update Status line in the Decision callout to use Phase 32 terminology: "Active research: Copilot BYOK integration (chat only). Continue.dev evaluation as primary IDE integration path."

**4. Eliminate "## Alternative Architectures" heading** (lines 476-497). Per user decision:
- Continue.dev content is already handled by the new primary section (Task 1)
- The Continue.dev subsection under Alternative Architectures should be REMOVED (it is replaced by the new primary section)
- The Langium AI content will be handled in Plan 02 (gets its own section). For now, leave a placeholder comment or keep the existing Langium AI content in place -- Plan 02 will recontextualize it.

**Important:** Do NOT remove or modify the language server sections (Foundation, Two Completion Mechanisms, Ghost Text, Generation-Aware Completion, Compiler Validation, LSP 3.18), the Current Status section, or the What Comes Next section. Those are handled in Plan 02.
  </action>
  <verify>
1. Read the Copilot section and confirm:
   - Heading is reframed (not "The Copilot Bridge")
   - Enterprise BYOK updated to "public preview"
   - Comparison table is present with all three columns
   - BYOK inline completion limitation is explicitly stated
   - Decision callout updated with Phase 32 terminology
2. Confirm "## Alternative Architectures" heading is eliminated
3. Confirm Continue.dev subsection under Alternative Architectures is removed (replaced by primary section from Task 1)
4. Confirm language server sections (Foundation through LSP 3.18) are untouched
5. Grep for "Alternative Architectures" -- should not appear
6. Grep for "not yet available for Copilot Business" -- should not appear (outdated claim)
  </verify>
  <done>
- Copilot section directly contrasts with Continue.dev, showing why BYOK falls short
- Enterprise BYOK status updated to public preview
- Comparison table clearly shows Continue.dev has best near-term coverage
- "Alternative Architectures" heading eliminated
- Language server sections preserved for Plan 02
  </done>
</task>

</tasks>

<verification>
After both tasks complete:
1. The chapter opens with a problem-focused intro about zero-representation languages
2. Continue.dev is the first major content section with full config.yaml walkthrough
3. Chat and tab completion are clearly separated with different model requirements
4. FIM training gap is explained with BBj-specific FIM example
5. Copilot BYOK contrasts directly with Continue.dev
6. Comparison table present
7. No "Alternative Architectures" heading
8. Language server sections (Foundation through LSP 3.18) remain intact for Plan 02
9. No prohibited terminology ("shipped", "production", "deployed", "in progress") in new/modified content
</verification>

<success_criteria>
- IDE-01 partially met: Continue.dev presented as primary path with config walkthrough (full completion in Plan 02 with status block)
- IDE-02 met: Copilot BYOK limitations clearly stated with Enterprise update
- IDE-04 met: FIM training gap documented -- tab completion requires FIM-trained model, current ChatML data is instruction-only
- `npm run build` deferred to Plan 02 (full-file consistency pass)
</success_criteria>

<output>
After completion, create `.planning/phases/34-ide-integration/34-01-SUMMARY.md`
</output>
