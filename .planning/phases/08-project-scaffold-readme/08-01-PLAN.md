---
phase: 08-project-scaffold-readme
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - README.md
  - rag-ingestion/pyproject.toml
  - rag-ingestion/Makefile
  - rag-ingestion/src/bbj_rag/__init__.py
  - rag-ingestion/src/bbj_rag/py.typed
  - rag-ingestion/tests/__init__.py
  - rag-ingestion/tests/test_placeholder.py
  - rag-ingestion/.python-version
  - rag-ingestion/uv.lock
  - .pre-commit-config.yaml
  - .gitignore
autonomous: true

must_haves:
  truths:
    - "Running `uv sync` in rag-ingestion/ installs all dependencies without errors"
    - "Running `uv run pytest` in rag-ingestion/ passes with at least 1 test collected"
    - "Running `uv run ruff check src/ tests/` in rag-ingestion/ exits cleanly"
    - "Running `uv run mypy src/` in rag-ingestion/ exits cleanly"
    - "Repo README describes the project, links to the live site, and summarizes the tech stack"
    - "`from bbj_rag import __version__` works in the rag-ingestion venv"
  artifacts:
    - path: "rag-ingestion/pyproject.toml"
      provides: "Python project metadata, dependencies, tool config (ruff, mypy, pytest)"
      contains: "requires-python = \">=3.12\""
    - path: "rag-ingestion/uv.lock"
      provides: "Pinned dependency lockfile"
    - path: "rag-ingestion/Makefile"
      provides: "Developer task runner (test, lint, format, typecheck, check)"
    - path: "rag-ingestion/src/bbj_rag/__init__.py"
      provides: "Package root with version"
    - path: "README.md"
      provides: "Repo-level project description"
      contains: "stephanwald.github.io/bbj-ai-strategy"
    - path: ".pre-commit-config.yaml"
      provides: "Pre-commit hooks scoped to rag-ingestion/"
  key_links:
    - from: "rag-ingestion/pyproject.toml"
      to: "rag-ingestion/src/bbj_rag/"
      via: "src-layout package discovery"
      pattern: "packages.*src"
    - from: ".pre-commit-config.yaml"
      to: "rag-ingestion/"
      via: "files filter scoped to rag-ingestion"
      pattern: "files: \\^rag-ingestion/"
---

<objective>
Scaffold the `rag-ingestion/` Python sub-project with uv and replace the repo-level README with a project overview.

Purpose: Engineers can clone the repo, understand what the project is, and have a working Python development environment ready for pipeline code in later phases.
Output: Working Python project (uv sync, pytest, ruff, mypy all pass), repo README, pre-commit hooks.
</objective>

<execution_context>
@/Users/beff/.claude/get-shit-done/workflows/execute-plan.md
@/Users/beff/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-project-scaffold-readme/08-CONTEXT.md
@.planning/phases/08-project-scaffold-readme/08-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold rag-ingestion/ Python project with uv and dev tooling</name>
  <files>
    rag-ingestion/pyproject.toml
    rag-ingestion/Makefile
    rag-ingestion/src/bbj_rag/__init__.py
    rag-ingestion/src/bbj_rag/py.typed
    rag-ingestion/tests/__init__.py
    rag-ingestion/tests/test_placeholder.py
    rag-ingestion/.python-version
    rag-ingestion/uv.lock
    .pre-commit-config.yaml
    .gitignore
  </files>
  <action>
    Create the rag-ingestion/ Python sub-project. Do NOT use `uv init` -- write files directly for full control over the structure.

    1. **Create directory structure:**
       - `rag-ingestion/src/bbj_rag/` (src-layout package)
       - `rag-ingestion/tests/`

    2. **Write `rag-ingestion/pyproject.toml`** with this exact configuration (from RESEARCH.md):
       - `[project]`: name="bbj-rag", version="0.1.0", description="RAG ingestion pipeline for BBj documentation", requires-python=">=3.12", dependencies=[] (empty for now -- pipeline deps added in later phases)
       - `[build-system]`: requires=["hatchling"], build-backend="hatchling.build" (use hatchling, NOT uv_build -- uv_build is too new and may not be stable; hatchling is the standard src-layout build backend)
       - `[dependency-groups]`: dev group with pytest>=9.0.2, ruff>=0.14.0, mypy>=1.19.0, pre-commit>=4.3.0
       - `[tool.ruff]`: target-version="py312", line-length=88, src=["src", "tests"]
       - `[tool.ruff.lint]`: select=["E", "W", "F", "I", "B", "UP", "RUF"], fixable=["ALL"]
       - `[tool.ruff.format]`: quote-style="double", indent-style="space"
       - `[tool.mypy]`: python_version="3.12", strict=true, warn_return_any=true, warn_unused_configs=true
       - `[[tool.mypy.overrides]]`: module="tests.*", disallow_untyped_defs=false
       - `[tool.pytest.ini_options]`: testpaths=["tests"], addopts=["-ra", "-q"]
       - `[tool.hatch.build.targets.wheel]`: packages=["src/bbj_rag"]

    3. **Write `rag-ingestion/.python-version`**: Content is just `3.12` (one line)

    4. **Write `rag-ingestion/src/bbj_rag/__init__.py`**:
       ```python
       """RAG ingestion pipeline for BBj documentation."""

       __version__ = "0.1.0"
       ```

    5. **Write `rag-ingestion/src/bbj_rag/py.typed`**: Empty file (PEP 561 marker for mypy)

    6. **Write `rag-ingestion/tests/__init__.py`**: Empty file

    7. **Write `rag-ingestion/tests/test_placeholder.py`**:
       ```python
       """Placeholder test to verify pytest works."""

       from bbj_rag import __version__


       def test_version() -> None:
           assert __version__ == "0.1.0"
       ```

    8. **Write `rag-ingestion/Makefile`** (from RESEARCH.md):
       - Targets: help, sync, test, lint, format, typecheck, check, clean
       - All commands use `uv run` prefix
       - `check` depends on lint + typecheck + test
       - Use `## Comment` pattern for self-documenting help target

    9. **Write `.pre-commit-config.yaml` at repo root** (from RESEARCH.md):
       - pre-commit-hooks v5.0.0: trailing-whitespace, end-of-file-fixer, check-yaml -- all scoped with `files: ^rag-ingestion/`
       - ruff-pre-commit v0.14.14: ruff-check (with --fix), ruff-format -- scoped with `files: ^rag-ingestion/`
       - local hook for mypy: entry is `bash -c 'cd rag-ingestion && uv run mypy src/'`, language=system, types=[python], files=^rag-ingestion/, pass_filenames=false

    10. **Update `.gitignore` at repo root**: Append a Python section at the bottom:
        ```
        # Python (rag-ingestion/)
        rag-ingestion/.venv/
        rag-ingestion/.mypy_cache/
        rag-ingestion/.ruff_cache/
        rag-ingestion/.pytest_cache/
        rag-ingestion/dist/
        __pycache__/
        *.pyc
        ```

    11. **Run `uv sync` inside rag-ingestion/** to create the lockfile and install deps
    12. **Run `uv run pytest`** to verify tests pass
    13. **Run `uv run ruff check src/ tests/`** to verify linting passes
    14. **Run `uv run mypy src/`** to verify type checking passes
    15. **Install pre-commit hooks**: Run `cd rag-ingestion && uv run pre-commit install` (installs hooks at repo root .git/hooks)

    IMPORTANT: The .pre-commit-config.yaml MUST be at the repo root (not inside rag-ingestion/) because git hooks run from the repo root. All hook entries use `files: ^rag-ingestion/` to scope to the Python sub-project.
  </action>
  <verify>
    All four commands succeed from inside rag-ingestion/:
    - `uv sync` exits 0
    - `uv run pytest` shows 1 passed
    - `uv run ruff check src/ tests/` exits 0
    - `uv run mypy src/` exits 0 with "Success"
    - `uv run python -c "from bbj_rag import __version__; print(__version__)"` prints "0.1.0"
  </verify>
  <done>
    rag-ingestion/ is a valid Python project: uv sync installs all deps, pytest passes with 1 test, ruff and mypy report no issues, pre-commit hooks are installed, and the package is importable as `bbj_rag`.
  </done>
</task>

<task type="auto">
  <name>Task 2: Replace repo README with project overview</name>
  <files>
    README.md
  </files>
  <action>
    Replace the existing Docusaurus boilerplate README.md at the repo root with a project-level README.

    Follow the CONTEXT.md decisions exactly:
    - Audience: general developers (no BBj knowledge assumed -- brief context paragraph)
    - Tone: developer-friendly, direct, second-person ("you"), like a well-maintained open-source project
    - Structure: minimal orientation
    - No badges, no license mention, no Docusaurus dev commands

    README structure:

    **# BBj AI Strategy**

    One-paragraph overview: This repo contains the AI strategy documentation for BBj (a Business BASIC language by BASIS International) and a RAG ingestion pipeline for processing BBj documentation into a vector database. The docs site covers fine-tuning, IDE integration, documentation chat, and RAG database design across 7 chapters.

    **Live site:** https://stephanwald.github.io/bbj-ai-strategy/

    **## What's Here**

    Brief description of the two main parts:
    - `/docs` and root Docusaurus files -- the strategy documentation site (Docusaurus 3, TypeScript, deployed to GitHub Pages)
    - `/rag-ingestion` -- Python ingestion pipeline for processing BBj documentation sources into pgvector (Python 3.12+, uv)

    **## Tech Stack**

    Simple table or list:
    - Documentation site: Docusaurus 3.9.2, Rspack, TypeScript, GitHub Pages
    - Ingestion pipeline: Python 3.12+, uv, pgvector/PostgreSQL (details in rag-ingestion/README.md)

    **## Getting Started**

    Two short sections:
    - For the docs site: point readers to the live site link above (they can figure out it's Docusaurus)
    - For the ingestion pipeline: `cd rag-ingestion && uv sync` then `make check` (full setup details will be in rag-ingestion/README.md, written in Phase 14)

    Keep the whole README under ~50 lines. This is orientation, not documentation.
  </action>
  <verify>
    - README.md exists at repo root
    - Contains "BBj AI Strategy" as the title
    - Contains link to https://stephanwald.github.io/bbj-ai-strategy/
    - Mentions both the docs site and rag-ingestion pipeline
    - Does NOT contain Docusaurus boilerplate ("yarn start", "yarn build", etc.)
    - Under ~50 lines total
  </verify>
  <done>
    Repo README describes the project (docs site + ingestion pipeline), links to the live site, and summarizes the tech stack. No Docusaurus boilerplate remains. A developer cloning this repo immediately understands what it is.
  </done>
</task>

</tasks>

<verification>
Run all checks from rag-ingestion/ directory:

```bash
cd rag-ingestion
uv sync                          # Dependencies install
uv run pytest                    # 1 test passes
uv run ruff check src/ tests/    # No lint errors
uv run mypy src/                 # No type errors
uv run python -c "from bbj_rag import __version__; print(__version__)"  # Prints 0.1.0
```

Verify README:
```bash
head -5 README.md                # Shows "# BBj AI Strategy"
grep -c "stephanwald.github.io" README.md  # Returns 1+
grep -c "yarn" README.md         # Returns 0
```

Verify pre-commit config:
```bash
test -f .pre-commit-config.yaml && echo "exists"
grep "rag-ingestion" .pre-commit-config.yaml  # All hooks scoped
```

Verify .gitignore:
```bash
grep "rag-ingestion" .gitignore  # Python entries present
```
</verification>

<success_criteria>
1. `uv sync` in rag-ingestion/ exits 0 with all deps installed
2. `uv run pytest` shows 1 test passed
3. `uv run ruff check src/ tests/` exits 0
4. `uv run mypy src/` exits 0
5. README.md at repo root describes project, links to live site, summarizes tech stack
6. No Docusaurus boilerplate in README.md
7. .pre-commit-config.yaml at repo root with hooks scoped to rag-ingestion/
8. .gitignore updated with Python patterns
9. uv.lock exists and is committed
</success_criteria>

<output>
After completion, create `.planning/phases/08-project-scaffold-readme/08-01-SUMMARY.md`
</output>
