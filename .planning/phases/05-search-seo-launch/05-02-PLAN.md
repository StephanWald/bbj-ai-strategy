---
phase: 05-search-seo-launch
plan: 02
type: execute
wave: 2
depends_on: [05-01]
files_modified:
  - docs/03-fine-tuning/index.md
  - docs/04-ide-integration/index.md
  - docs/05-documentation-chat/index.md
  - docs/06-rag-database/index.md
  - docs/07-implementation-roadmap/index.md
autonomous: true

must_haves:
  truths:
    - "Every chapter page has previous/next pagination linking to adjacent chapters in correct order (1->2->3->4->5->6->7)"
    - "Every chapter page shows a table of contents generated from its headings in the right sidebar"
    - "The sitemap.xml contains all 7 chapter URLs plus the homepage"
    - "The live deployed site at stephanwald.github.io/bbj-ai-strategy loads correctly with search, SEO, and navigation all working"
    - "All sidebar_position values produce correct chapter ordering"
  artifacts: []
---

<objective>
Verify all navigation paths (pagination, ToC, sidebar ordering), confirm sitemap completeness, fix any sidebar_position inconsistencies, and push to deploy the final production build to GitHub Pages.

Purpose: This is the verification and launch plan. Plan 05-01 added the active features (search + SEO). This plan confirms everything works end-to-end and deploys the final site.

Output: A verified, deployed site where all Phase 5 success criteria are met.
</objective>

<execution_context>
@/Users/beff/.claude/get-shit-done/workflows/execute-plan.md
@/Users/beff/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-search-seo-launch/05-RESEARCH.md
@docusaurus.config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify navigation and fix sidebar_position</name>
  <files>docs/03-fine-tuning/index.md, docs/04-ide-integration/index.md, docs/05-documentation-chat/index.md, docs/06-rag-database/index.md, docs/07-implementation-roadmap/index.md</files>
  <action>
**Step 1: Check sidebar_position values across all chapters**

Read the frontmatter of all 7 chapter index files and note their `sidebar_position` values:

```bash
for f in docs/0*/index.md docs/0*/index.mdx; do echo "=== $f ==="; head -5 "$f"; done
```

Research and codebase exploration found that Chapters 03-07 all have `sidebar_position: 1`. While directory prefix ordering (01-, 02-, etc.) likely handles this correctly with Docusaurus autogenerated sidebars, fix them to be explicit and consistent:

- docs/03-fine-tuning/index.md → sidebar_position: 3
- docs/04-ide-integration/index.md → sidebar_position: 4
- docs/05-documentation-chat/index.md → sidebar_position: 5
- docs/06-rag-database/index.md → sidebar_position: 6
- docs/07-implementation-roadmap/index.md → sidebar_position: 7

Only change `sidebar_position` values. Do not modify any other frontmatter or content.

NOTE: If the sidebar_position values are already correct (3, 4, 5, 6, 7), skip this step entirely.

**Step 2: Build and verify pagination order**

```bash
npm run build
```

Then verify the built HTML contains correct prev/next links. Check a few key transitions:

```bash
# Chapter 1 should have Next: Chapter 2 (no Previous)
grep -o 'pagination-nav__link--next.*title.*"[^"]*"' build/docs/bbj-challenge/index.html | head -1

# Chapter 4 should have Prev: Chapter 3, Next: Chapter 5
grep -o 'pagination-nav__link--prev.*title.*"[^"]*"' build/docs/ide-integration/index.html | head -1
grep -o 'pagination-nav__link--next.*title.*"[^"]*"' build/docs/ide-integration/index.html | head -1

# Chapter 7 should have Prev: Chapter 6 (no Next)
grep -o 'pagination-nav__link--prev.*title.*"[^"]*"' build/docs/implementation-roadmap/index.html | head -1
```

If pagination order is incorrect, investigate the sidebar configuration and fix.

**Step 3: Verify Table of Contents**

Check that built HTML pages contain a TOC section:

```bash
# Each chapter page should have a TOC rendered from h2/h3 headings
grep -c "table-of-contents" build/docs/bbj-challenge/index.html
grep -c "table-of-contents" build/docs/fine-tuning/index.html
grep -c "table-of-contents" build/docs/implementation-roadmap/index.html
```

All should return 1 or more.

**Step 4: Verify sitemap completeness**

```bash
# Check sitemap contains all expected URLs
grep -c "<url>" build/sitemap.xml
# Should be 8 (7 chapters + homepage)

# Spot-check key URLs exist
grep "bbj-challenge" build/sitemap.xml
grep "fine-tuning" build/sitemap.xml
grep "implementation-roadmap" build/sitemap.xml
```

**Step 5: Verify OG meta tags in built HTML**

```bash
# Check homepage has og:type
grep 'og:type' build/index.html

# Check a chapter page has og:title and og:description
grep 'og:title' build/docs/bbj-challenge/index.html
grep 'og:description' build/docs/bbj-challenge/index.html
```
  </action>
  <verify>
1. Build passes: `npm run build` with zero errors
2. Pagination order: Chapter 1 has no prev, Chapter 7 has no next, middle chapters link correctly
3. TOC present: All chapter pages have table-of-contents in rendered HTML
4. Sitemap: 8 URLs in sitemap.xml (7 chapters + homepage)
5. OG tags: og:type, og:title, og:description present in built HTML
6. sidebar_position: All chapters have unique, sequential values (1-7)
  </verify>
  <done>
All navigation verified: pagination flows 1->2->3->4->5->6->7, TOC renders on all pages, sitemap contains all URLs, OG tags present. sidebar_position values are consistent.
  </done>
</task>

<task type="auto">
  <name>Task 2: Deploy and verify live site</name>
  <files></files>
  <action>
**Step 1: Push changes to trigger deployment**

Commit all Phase 5 changes (search plugin, SEO config, robots.txt, sidebar_position fixes) and push to main:

```bash
git add -A
git commit -m "feat: add search, SEO meta tags, and robots.txt for Phase 5 launch"
git push origin main
```

**Step 2: Wait for GitHub Actions deployment**

Check deployment status:

```bash
# Wait for the deploy workflow to complete
gh run list --limit 3
```

Monitor until the latest run completes successfully.

**Step 3: Verify live site**

Once deployed, verify the live site at https://stephanwald.github.io/bbj-ai-strategy/:

```bash
# Check robots.txt is accessible
curl -s https://stephanwald.github.io/bbj-ai-strategy/robots.txt | head -5

# Check sitemap is accessible
curl -s https://stephanwald.github.io/bbj-ai-strategy/sitemap.xml | head -10

# Check OG tags on homepage
curl -s https://stephanwald.github.io/bbj-ai-strategy/ | grep -i 'og:type'

# Check a chapter page loads
curl -s -o /dev/null -w "%{http_code}" https://stephanwald.github.io/bbj-ai-strategy/docs/bbj-challenge/
```

All should return expected content and HTTP 200 status codes.
  </action>
  <verify>
1. Git push succeeds: `git log --oneline -1` shows the commit
2. GitHub Actions completes: `gh run list --limit 1` shows success
3. robots.txt live: `curl` returns the robots.txt content
4. sitemap.xml live: `curl` returns XML with chapter URLs
5. OG tags live: homepage HTML contains og:type meta tag
6. All chapter pages return HTTP 200
  </verify>
  <done>
Site is deployed and live with search, SEO, and verified navigation. All Phase 5 success criteria met: search works, pagination is correct, TOC renders, social sharing previews show title and description.
  </done>
</task>

</tasks>

<verification>
- Every chapter has correct prev/next pagination (1->2->3->4->5->6->7)
- Every chapter has right-sidebar TOC
- sitemap.xml has all 8 URLs
- OG meta tags present on all pages
- Live site loads at stephanwald.github.io/bbj-ai-strategy
- Search bar is visible and functional on live site
- robots.txt is accessible at live URL
</verification>

<success_criteria>
The site is fully deployed and verified. A visitor can search for terms, navigate between chapters with prev/next links, see a TOC on every page, and sharing the URL on social media shows a proper text-based preview card with title and description. All Phase 5 success criteria from the roadmap are met.
</success_criteria>

<output>
After completion, create `.planning/phases/05-search-seo-launch/05-02-SUMMARY.md`
</output>
