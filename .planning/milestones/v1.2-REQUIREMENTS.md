# Requirements Archive: v1.2 RAG Ingestion Pipeline

**Archived:** 2026-02-01
**Status:** ✅ SHIPPED

This is the archived requirements specification for v1.2.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v1.2 Requirements

### Documentation

- [x] **DOC-01**: Repo README rewritten with project description, live site link, and tech stack summary
- [x] **DOC-02**: RAG Getting Started sub-page under Chapter 6 with source-by-source ingestion approach and design rationale
- [x] **DOC-03**: Getting Started page links to actual code files in `rag-ingestion/` via GitHub URLs

### Infrastructure

- [x] **INFRA-01**: Python project scaffolded at `rag-ingestion/` with uv, pyproject.toml, and dependency management
- [x] **INFRA-02**: pgvector schema DDL with generation array column, tsvector for BM25, HNSW index for cosine similarity
- [x] **INFRA-03**: Pydantic data models for parsed documents and chunks (common interface across all parsers)
- [x] **INFRA-04**: Configuration system for source paths, database connection, embedding model, chunk sizes
- [x] **INFRA-05**: Content-hash deduplication for idempotent re-ingestion

### Parsers

- [x] **PARSE-01**: MadCap Flare XHTML parser — parses raw project files from Flare Content/ directory, extracts text from MadCap namespace tags, uses TOC files for hierarchy
- [x] **PARSE-02**: MadCap Flare condition tag extractor — reads Primary.flcts and per-topic MadCap:conditions attributes for generation/deprecation signals
- [x] **PARSE-03**: MadCap Flare web crawl parser (fallback for documentation.basis.cloud when project files unavailable)
- [x] **PARSE-04**: PDF parser for standalone documents (e.g., GuideToGuiProgrammingInBBj.pdf)
- [x] **PARSE-05**: WordPress/HTML parser for Advantage magazine articles (basis.cloud/advantage-index/)
- [x] **PARSE-06**: WordPress/LearnPress parser for Knowledge Base (basis.cloud/knowledge-base/)
- [x] **PARSE-07**: Docusaurus MDX parser for DWC-Course content (github.com/BasisHub/DWC-Course)
- [x] **PARSE-08**: BBj source code parser for sample files in DWC-Course and standalone examples

### BBj Intelligence

- [x] **BBJ-01**: Generation tagger — classifies chunks using condition tags, file paths (bbjobjects/, dwc/, commands/, mnemonic/), API name patterns, and syntax patterns
- [x] **BBJ-02**: Document type classifier — categorizes as api-reference, concept, example, migration, language-reference, best-practice, or version-note based on content structure
- [x] **BBJ-03**: Contextual chunk headers — uses TOC hierarchy + heading structure to prepend context path to every chunk

### Embedding & Storage

- [x] **EMBED-01**: Embedding pipeline using researched model (Qwen3-Embedding-0.6B or current best) with batch processing
- [x] **EMBED-02**: pgvector storage with bulk insert via psycopg3 COPY protocol
- [x] **EMBED-03**: Hybrid search validation — verify both dense vector and BM25 keyword search return relevant results

### Quality

- [x] **QUAL-01**: Post-ingestion summary report (chunk counts per source, per generation, per doc type)
- [x] **QUAL-02**: rag-ingestion/README.md with setup instructions, prerequisites, and usage guide

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| DOC-01 | Phase 8 | Complete |
| INFRA-01 | Phase 8 | Complete |
| INFRA-02 | Phase 9 | Complete |
| INFRA-03 | Phase 9 | Complete |
| INFRA-04 | Phase 9 | Complete |
| INFRA-05 | Phase 9 | Complete |
| PARSE-01 | Phase 10 | Complete |
| PARSE-02 | Phase 10 | Complete |
| PARSE-03 | Phase 10 | Complete |
| BBJ-01 | Phase 11 | Complete |
| BBJ-02 | Phase 11 | Complete |
| BBJ-03 | Phase 11 | Complete |
| EMBED-01 | Phase 12 | Complete |
| EMBED-02 | Phase 12 | Complete |
| EMBED-03 | Phase 12 | Complete |
| PARSE-04 | Phase 13 | Complete |
| PARSE-05 | Phase 13 | Complete |
| PARSE-06 | Phase 13 | Complete |
| PARSE-07 | Phase 13 | Complete |
| PARSE-08 | Phase 13 | Complete |
| DOC-02 | Phase 14 | Complete |
| DOC-03 | Phase 14 | Complete |
| QUAL-01 | Phase 14 | Complete |
| QUAL-02 | Phase 14 | Complete |

---

## Milestone Summary

**Shipped:** 24 of 24 v1.2 requirements
**Adjusted:** None — all requirements delivered as originally specified
**Dropped:** None

---
*Archived: 2026-02-01 as part of v1.2 milestone completion*
