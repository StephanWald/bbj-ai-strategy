# Milestone v1.6: Data Expansion

**Status:** ✅ SHIPPED 2026-02-05
**Phases:** 30-31
**Total Plans:** 3

## Overview

v1.6 expands the RAG knowledge base with structured API documentation and establishes infrastructure for collecting curated training data. The JavaDoc ingestion adds 359 classes and 4,438 methods of BBjAPI documentation — highly structured data that will significantly improve API-related queries. The training data repository creates a foundation for systematic collection of annotated BBj code examples that can later be converted to fine-tuning datasets.

## Phases

### Phase 30: BBjAPI JavaDoc Ingestion

**Goal**: Search results include BBjAPI method documentation, improving accuracy for API-related queries
**Depends on**: v1.5 complete (existing parser infrastructure)
**Requirements**: API-01, API-02, API-03, API-04, API-05
**Plans:** 2 plans

**Success Criteria** (what must be TRUE):
1. A search for "BBjWindow addButton" returns results from JavaDoc source with method signature and documentation
2. Each JavaDoc result includes a clickable `display_url` linking to documentation.basis.cloud
3. `bbj-ingest-all --source javadoc` completes without errors, adding ~4,000+ chunks to the corpus
4. Method chunks include parent class name in context header for disambiguation
5. E2E validation passes with new JavaDoc-specific test queries

Plans:
- [x] 30-01-PLAN.md — Create JavaDoc JSON parser (class reference card format)
- [x] 30-02-PLAN.md — Wire parser into ingestion pipeline and validate E2E

Data source:
- Location: `$BBJ_HOME/documentation/javadoc/*.json`
- Format: Structured JSON with class hierarchies, method signatures, parameters, documentation
- Size: 7 files, 359 classes, 4,438 methods
- Links: Each method includes `[Docs](https://documentation.basis.cloud/...)` URL

**Commits:**
- `ac569a8` feat(30-01): add JavaDoc JSON parser for BBj API documentation
- `2e3adff` feat(30-02): register javadoc parser in ingestion pipeline
- `41c8e2d` feat(30-02): add javadoc source entry and fix display_url preservation

### Phase 31: Training Data Repository

**Goal**: Infrastructure exists for systematically collecting and validating curated BBj code examples
**Depends on**: Nothing (independent of Phase 30)
**Requirements**: TRAIN-01, TRAIN-02, TRAIN-03, TRAIN-04
**Plans:** 1 plan

**Success Criteria** (what must be TRUE):
1. Repository structure exists with README, format specification, and directory layout
2. Markdown format for training examples is documented (front matter schema, code block conventions, explanation sections)
3. At least 2 seed examples demonstrate the format and pass validation
4. Contributor documentation explains how to add new examples

Plans:
- [x] 31-01-PLAN.md — Create repository structure, documentation, validation script, and seed examples

Format considerations:
- Markdown with YAML front matter (human-readable, version-controllable)
- Convertible to JSONL for fine-tuning (future tooling)
- Code blocks with BBj syntax highlighting
- Annotations explaining what the code does and why

**Commits:**
- `1f18f54` feat(31-01): create training-data directory structure and JSON Schema
- `96a3902` docs(31-01): add training data documentation
- `7269511` feat(31-01): add validation script and seed examples

## Progress

| Phase | Milestone | Plans Complete | Status | Completed |
|-------|-----------|----------------|--------|-----------|
| 30. BBjAPI JavaDoc Ingestion | v1.6 | 2/2 | Complete | 2026-02-05 |
| 31. Training Data Repository | v1.6 | 1/1 | Complete | 2026-02-05 |

## Coverage

| Requirement | Phase | Status |
|-------------|-------|--------|
| API-01 | 30 | ✓ Complete |
| API-02 | 30 | ✓ Complete |
| API-03 | 30 | ✓ Complete |
| API-04 | 30 | ✓ Complete |
| API-05 | 30 | ✓ Complete |
| TRAIN-01 | 31 | ✓ Complete |
| TRAIN-02 | 31 | ✓ Complete |
| TRAIN-03 | 31 | ✓ Complete |
| TRAIN-04 | 31 | ✓ Complete |

**Mapped: 9/9 — all v1.6 requirements covered.**

---

## Milestone Summary

**Key Decisions:**
- One Document per BBj API class (not per method) for complete API overview queries
- html.parser for lightweight HTML fragment parsing in JavaDoc
- Truncate method descriptions to first sentence or 100 chars for scannable reference cards
- Use BBJ_HOME env var for JavaDoc path instead of data_dir
- Preserve parser-set display_url when map_display_url returns empty
- Markdown-first training data format (human-editable, GitHub-renderable)
- JSON Schema validation for front matter with jsonschema library
- Topic-based flat directory organization (gui/, database/, etc.)

**Issues Resolved:**
- Fixed display_url overwrite bug that was losing parser-provided documentation links
- mypy type annotations for dict parameters

**Issues Deferred:**
- JSONL conversion for training data (future phase when content is sufficient)
- CI integration for validation script
- Phase 30 human verification of search UI (deferred until services running)

**Technical Debt Incurred:**
None — clean implementations with no shortcuts.

---

*For current project status, see .planning/ROADMAP.md (when it exists) or .planning/STATE.md*
*Archived: 2026-02-05*
