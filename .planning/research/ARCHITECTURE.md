# Architecture Research: Docusaurus Site for BBj AI Strategy

## Site Structure

### File/Folder Layout

```
bbj-ai-strategy/
├── .github/
│   └── workflows/
│       └── deploy.yml                  # GitHub Actions deploy to Pages
├── docs/
│   ├── 01-bbj-challenge/
│   │   ├── _category_.json             # Sidebar label + position for this chapter
│   │   ├── index.md                    # Chapter 1 landing (overview)
│   │   ├── four-generations.md         # 4 generations of BBj explained
│   │   ├── generic-llm-problem.md      # Why LLMs hallucinate BBj
│   │   ├── copilot-wont-work.md        # Why GitHub Copilot is not viable
│   │   └── webforj-contrast.md         # Contrast: webforJ vs BBj AI needs
│   ├── 02-strategic-architecture/
│   │   ├── _category_.json
│   │   ├── index.md                    # Chapter 2 landing
│   │   ├── unified-infrastructure.md   # Single model, shared RAG, multiple UIs
│   │   └── benefits.md                 # Benefits of unified approach
│   ├── 03-fine-tuning/
│   │   ├── _category_.json
│   │   ├── index.md                    # Chapter 3 landing
│   │   ├── training-data.md            # Data structure, generation labels, schema
│   │   ├── model-selection.md          # Base model candidates, hosting via Ollama
│   │   └── approach.md                 # LoRA/QLoRA, dataset size, evaluation
│   ├── 04-ide-integration/
│   │   ├── _category_.json
│   │   ├── index.md                    # Chapter 4 landing
│   │   ├── vscode-extension.md         # Extension architecture
│   │   ├── langium-integration.md      # Langium parser, semantic context
│   │   ├── completion-mechanisms.md    # Ghost text vs popup, conflict avoidance
│   │   └── generation-detection.md     # How code generation is detected
│   ├── 05-documentation-chat/
│   │   ├── _category_.json
│   │   ├── index.md                    # Chapter 5 landing
│   │   ├── chat-architecture.md        # Backend service, widget, streaming
│   │   ├── generation-aware.md         # Context-sensitive responses
│   │   └── why-not-generic.md          # Why Algolia/kapa.ai fail for BBj
│   ├── 06-rag-database/
│   │   ├── _category_.json
│   │   ├── index.md                    # Chapter 6 landing
│   │   ├── document-structure.md       # Multi-generation metadata schema
│   │   ├── retrieval-strategy.md       # Vector search + generation scoring
│   │   └── document-types.md           # Reference types and organization
│   ├── 07-implementation-roadmap/
│   │   ├── _category_.json
│   │   ├── index.md                    # Chapter 7 landing
│   │   ├── phases.md                   # Phase 1-4 breakdown
│   │   ├── resources.md                # Infrastructure, personnel, costs
│   │   ├── risk-assessment.md          # Risk table with mitigations
│   │   └── success-metrics.md          # Technical, user, business metrics
│   └── appendices/
│       ├── _category_.json
│       ├── generation-reference.md     # BBj generation quick reference
│       ├── training-data-format.md     # Sample training data JSON
│       └── glossary.md                 # Term definitions
├── src/
│   ├── components/
│   │   └── HomepageFeatures/
│   │       ├── index.tsx               # Feature cards for landing page
│   │       └── styles.module.css
│   ├── css/
│   │   └── custom.css                  # Theme overrides, BBj syntax colors
│   └── pages/
│       ├── index.tsx                   # Landing page (executive summary)
│       └── index.module.css            # Landing page styles
├── static/
│   └── img/
│       ├── logo.svg                    # Site logo (BASIS/BBj branding)
│       ├── favicon.ico
│       └── architecture-diagram.png    # Optional: rendered diagrams
├── docusaurus.config.ts                # Main config: site metadata, navbar, footer
├── sidebars.ts                         # Sidebar navigation structure
├── package.json
├── tsconfig.json
└── babel.config.js
```

### Why This Layout

**Numbered chapter prefixes (`01-`, `02-`, ...):** Docusaurus sorts sidebar items by filesystem order when using autogenerated sidebars. The numeric prefix ensures chapters appear in the correct sequence without manual position overrides in every file. The `_category_.json` files set the display label (without the number prefix) and can override position if needed.

**`index.md` per chapter folder:** Docusaurus treats `index.md` as the category landing page. When a user clicks a chapter in the sidebar, they land on this overview page rather than seeing a bare category list. This is configured by the `link.type: 'generated-index'` or `link.type: 'doc'` setting in `_category_.json`.

**Flat content within chapters:** Most chapters have 2-5 pages. This avoids deep nesting while keeping related content grouped. The strategy paper's natural sections map well to individual pages within each chapter folder.

**`src/pages/index.tsx` for landing page:** Docusaurus separates "pages" (standalone React pages like the homepage) from "docs" (markdown content with sidebars). The landing page is a React component, not a doc, giving full control over layout for the executive summary and navigation cards.

---

### Navigation Architecture

Docusaurus has three navigation layers that work together:

#### 1. Top Navbar (`docusaurus.config.ts` > `themeConfig.navbar`)

The persistent header bar across all pages. For this site:

```
[BBj AI Strategy Logo]  |  Strategy  |  Roadmap  |  GitHub ↗
```

- **Strategy** links to `docs/01-bbj-challenge/index` (first doc, enters sidebar navigation)
- **Roadmap** links to `docs/07-implementation-roadmap/index` (quick access to the action plan)
- **GitHub** external link to the repository

The navbar is minimal because the sidebar handles detailed navigation. Navbar items use `type: 'docSidebar'` to link into the doc sidebar, or `type: 'doc'` to link to a specific page.

#### 2. Sidebar (`sidebars.ts`)

The left-hand navigation panel visible on all `/docs/` pages. This is the primary navigation mechanism for the 7-chapter content.

**Configuration approach: Autogenerated with overrides.**

```typescript
// sidebars.ts
import type {SidebarsConfig} from '@docusaurus/plugin-content-docs';

const sidebars: SidebarsConfig = {
  strategySidebar: [
    {
      type: 'autogenerated',
      dirName: '.',    // Generate from all of docs/
    },
  ],
};

export default sidebars;
```

With autogenerated sidebars, Docusaurus reads the `docs/` folder structure and builds the sidebar tree automatically. Each `_category_.json` controls label, position, and link behavior:

```json
// docs/01-bbj-challenge/_category_.json
{
  "label": "The BBj Challenge",
  "position": 1,
  "link": {
    "type": "doc",
    "id": "01-bbj-challenge/index"
  }
}
```

This produces a sidebar like:

```
▼ The BBj Challenge              ← Chapter 1 (clickable, opens index.md)
    Four Generations of BBj
    The Generic LLM Problem
    Why Copilot Won't Work
    webforJ Contrast
▼ Strategic Architecture         ← Chapter 2
    Unified Infrastructure
    Benefits
▼ Fine-Tuning the Model          ← Chapter 3
    Training Data Structure
    Model Selection & Hosting
    Approach
  ...
▼ Implementation Roadmap         ← Chapter 7
    Phases
    Resources
    Risk Assessment
    Success Metrics
▼ Appendices
    Generation Quick Reference
    Training Data Format
    Glossary
```

**Why autogenerated over manual:** With 7 chapters and ~25 pages, autogenerated keeps `sidebars.ts` minimal. Adding a new page only requires creating the markdown file -- no config edits needed. The `_category_.json` files give per-chapter control where needed.

**Individual page ordering:** Within each chapter folder, pages are ordered by `sidebar_position` frontmatter in each `.md` file:

```yaml
---
sidebar_position: 2
sidebar_label: "The Generic LLM Problem"
---
```

#### 3. Landing Page (`src/pages/index.tsx`)

A standalone React page at the site root (`/`). Not part of the docs sidebar. Serves as executive summary and navigation hub.

**Content structure:**
- Hero section: Title, one-line value proposition, CTA button ("Read the Strategy")
- Three-column feature cards: Fine-Tuned Model | IDE Integration | Documentation Chat
- Chapter overview grid: 7 cards linking to each chapter's `index.md`
- Footer: Links to GitHub, BASIS International

**How it connects to docs:** The CTA button and chapter cards use `<Link to="/docs/01-bbj-challenge">` (Docusaurus `Link` component) to route into the docs section where sidebar navigation takes over.

#### 4. Pagination (Automatic)

Docusaurus auto-generates "Previous" and "Next" links at the bottom of every doc page based on sidebar order. This creates a linear reading path through all 7 chapters without any configuration. A reader who starts at Chapter 1 can click "Next" through the entire strategy paper.

#### 5. Table of Contents (Automatic)

Every doc page automatically gets a right-side table of contents generated from `##` and `###` headings. This requires no configuration and works out of the box. It helps navigate within longer pages.

---

### Content Organization

#### How the Strategy Paper Maps to Pages

The source `bbj-llm-strategy.md` (~1100 lines) maps to the Docusaurus structure as follows:

| Strategy Paper Section | Docusaurus Location | Approx Lines |
|------------------------|---------------------|--------------|
| Executive Summary | `src/pages/index.tsx` (landing page hero) | 1-25 |
| The BBj Challenge | `docs/01-bbj-challenge/` (4 pages) | 27-144 |
| Strategic Architecture | `docs/02-strategic-architecture/` (2 pages) | 146-200 |
| Component 1: Fine-Tuned Model | `docs/03-fine-tuning/` (3 pages) | 202-308 |
| Component 2: VSCode Extension | `docs/04-ide-integration/` (4 pages) | 310-498 |
| Component 3: Documentation Chat | `docs/05-documentation-chat/` (3 pages) | 500-607 |
| Component 4: RAG Database | `docs/06-rag-database/` (3 pages) | 609-748 |
| Implementation Roadmap | `docs/07-implementation-roadmap/` (4 pages) | 750-895 |
| Appendices A-C | `docs/appendices/` (3 pages) | 907-1142 |

#### Page Frontmatter Standard

Every `.md` file in `docs/` should include:

```yaml
---
sidebar_position: 1
sidebar_label: "Short Label"
title: "Full Page Title"
description: "SEO and social sharing description"
---
```

- `sidebar_position`: Controls order within the chapter folder
- `sidebar_label`: Short text shown in sidebar (can differ from `title`)
- `title`: Full page title, rendered as `<h1>` and used in `<title>` tag
- `description`: Used for meta description, social cards, search

#### Content Features Used

| Feature | How Used | Configuration |
|---------|----------|---------------|
| Code blocks | BBj code examples with syntax highlighting | Custom Prism language or `bash`/`text` fallback |
| Tables | Comparison tables (generations, tools, metrics) | Standard markdown tables |
| Admonitions | Tips, warnings, notes (e.g., deprecation notices) | `:::tip`, `:::warning`, `:::note` syntax |
| Tabs | Show same concept across generations | `@docusaurus/theme-classic` tabs component |
| ASCII diagrams | Architecture diagrams from strategy paper | Wrapped in code blocks |

#### BBj Syntax Highlighting

Docusaurus uses Prism.js for code highlighting. BBj is not a built-in Prism language. Two options:

1. **Custom Prism language definition** (recommended): Define a BBj grammar in `src/prism/bbj.js` and register it in `docusaurus.config.ts` under `themeConfig.prism.additionalLanguages`. This enables ` ```bbj ` code blocks with proper highlighting.

2. **Fallback**: Use ` ```basic ` or ` ```text ` until a custom grammar is built. This works but provides no semantic highlighting.

---

## Build & Deploy Pipeline

### Local Development

```bash
npm install          # Install dependencies (once)
npm run start        # Dev server at localhost:3000, hot reload
npm run build        # Production build to /build directory
npm run serve        # Preview production build locally
```

### GitHub Actions Workflow for GitHub Pages

```yaml
# .github/workflows/deploy.yml
name: Deploy to GitHub Pages

on:
  push:
    branches: [main]

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: 20
          cache: npm
      - run: npm ci
      - run: npm run build
      - uses: actions/upload-pages-artifact@v3
        with:
          path: build

  deploy:
    needs: build
    runs-on: ubuntu-latest
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    steps:
      - id: deployment
        uses: actions/deploy-pages@v4
```

### Required `docusaurus.config.ts` Settings for GitHub Pages

```typescript
const config: Config = {
  title: 'BBj AI Strategy',
  tagline: 'Intelligent Code Assistance Across Four Generations',
  url: 'https://<org>.github.io',           // GitHub Pages URL
  baseUrl: '/bbj-ai-strategy/',              // Repository name as base path
  organizationName: '<org>',                 // GitHub org or username
  projectName: 'bbj-ai-strategy',           // Repository name
  trailingSlash: false,
  // ...
};
```

**Key points:**
- `baseUrl` must match the repo name when using project-level GitHub Pages (not custom domain)
- `trailingSlash: false` avoids 404s on GitHub Pages
- The GitHub Actions workflow uses the newer `actions/deploy-pages` approach (not the older `gh-pages` branch method) -- this is the recommended approach as of 2025+
- GitHub repo Settings > Pages must be set to deploy from "GitHub Actions" (not "Deploy from a branch")

### Build Pipeline Summary

```
Developer pushes to main
         │
         ▼
GitHub Actions triggers deploy.yml
         │
         ▼
Build job:
  ├── Checkout code
  ├── Setup Node 20 + npm cache
  ├── npm ci (install deps)
  ├── npm run build (Docusaurus SSG)
  └── Upload /build as Pages artifact
         │
         ▼
Deploy job:
  └── Deploy artifact to GitHub Pages
         │
         ▼
Site live at https://<org>.github.io/bbj-ai-strategy/
```

---

## Component Dependencies

| Component | Depends On | Build Order | Notes |
|-----------|-----------|-------------|-------|
| **Node/npm environment** | Nothing | 1 | Foundation -- `npx create-docusaurus` to scaffold |
| **`docusaurus.config.ts`** | Node environment | 2 | Site metadata, navbar, footer, GitHub Pages settings |
| **`sidebars.ts`** | Config exists | 3 | Can start as autogenerated (minimal), refine later |
| **`docs/` folder structure** | Config + sidebars | 4 | Create chapter folders with `_category_.json` files first |
| **Chapter `index.md` files** | Folder structure | 5 | One per chapter -- provides sidebar click targets |
| **Chapter content pages** | index.md files exist | 6 | Individual topic pages within each chapter |
| **`src/pages/index.tsx`** | Config exists | 5* | Landing page -- can be built in parallel with docs content |
| **`src/css/custom.css`** | Config exists | 5* | Theme customization -- parallel with content |
| **BBj Prism language** | Custom.css exists | 7 | Optional syntax highlighting -- can be deferred |
| **`.github/workflows/deploy.yml`** | All content ready | 8 | Deployment pipeline -- last piece before going live |
| **Static assets (`static/img/`)** | Nothing | Any | Logo, favicon -- can be added at any time |

*Items marked 5* can be built in parallel with step 5-6 content work.*

### Suggested Build Order (Phases)

**Phase A -- Scaffold (do first, everything else depends on it):**
1. Run `npx create-docusaurus@latest bbj-ai-strategy classic --typescript`
2. Configure `docusaurus.config.ts` with site metadata and GitHub Pages settings
3. Set up `sidebars.ts` with autogenerated config
4. Create all chapter folders with `_category_.json` files
5. Create placeholder `index.md` in each chapter folder
6. Verify `npm run start` shows sidebar with all 7 chapters

**Phase B -- Content (the bulk of the work, can be parallelized per chapter):**
7. Write/migrate content for each chapter from the strategy paper
8. Add code examples, tables, admonitions
9. Build the landing page (`src/pages/index.tsx`)
10. Apply custom CSS theming

**Phase C -- Polish and Deploy:**
11. Add BBj Prism syntax highlighting (if desired)
12. Add static assets (logo, favicon, social card image)
13. Set up `.github/workflows/deploy.yml`
14. Enable GitHub Pages in repository settings
15. Push to main and verify deployment

---

## Key Architectural Decisions

| Decision | Rationale |
|----------|-----------|
| **Docusaurus 3.x with TypeScript template** | Industry standard for documentation sites. React-based allows custom landing page. TypeScript catches config errors at build time. Large ecosystem of plugins and themes. |
| **Single docs plugin instance (not multi-instance)** | All 7 chapters belong to one logical document. Multi-instance (separate docs plugin per section) adds complexity with no benefit for a linear strategy paper. |
| **Autogenerated sidebar with `_category_.json`** | Minimizes configuration maintenance. Adding/removing pages requires no `sidebars.ts` edits. Per-folder `_category_.json` provides enough control for chapter labels and ordering. |
| **Numbered folder prefixes (`01-`, `02-`, ...)** | Ensures correct chapter order in sidebar without relying solely on `position` fields. Makes filesystem order match reading order, aiding developer navigation in the IDE. |
| **`index.md` per chapter (not `intro.md` or generated index)** | `link.type: 'doc'` in `_category_.json` points to a real page, not an auto-generated category page. This gives full control over each chapter's landing content (overview, key takeaways, links). |
| **Landing page as React component, not markdown** | The executive summary needs custom layout (hero, feature cards, chapter grid) that markdown cannot express. Docusaurus `src/pages/` gives full React/JSX control. |
| **GitHub Actions `deploy-pages` (not `gh-pages` branch)** | Modern recommended approach. Avoids maintaining a separate `gh-pages` branch. Uses GitHub's native Pages infrastructure with environment protection rules. |
| **`trailingSlash: false`** | GitHub Pages serves `/path` and `/path/` inconsistently. Setting `false` normalizes to no trailing slash, preventing duplicate content and 404s. |
| **Flat page structure within chapters** | Each chapter has 2-5 pages at the same depth. No sub-sub-categories. Keeps sidebar clean and avoids deep nesting that hides content. |
| **Appendices as a separate sidebar section** | Reference material (glossary, code samples, generation quick-ref) lives outside the 7-chapter narrative flow but remains accessible in the sidebar. |
| **Content in `/docs`, not `/blog`** | The strategy paper is reference documentation, not time-ordered blog posts. The docs plugin provides versioning support and sidebar navigation that blog does not. |
| **No docs versioning initially** | This is a living strategy document, not a versioned API reference. Versioning can be enabled later if the strategy evolves into distinct editions. |

---

## Docusaurus Configuration Detail

### `docusaurus.config.ts` Key Sections

```typescript
import {themes as prismThemes} from 'prism-react-renderer';
import type {Config} from '@docusaurus/types';
import type * as Preset from '@docusaurus/preset-classic';

const config: Config = {
  title: 'BBj AI Strategy',
  tagline: 'Intelligent Code Assistance Across Four Generations of Business BASIC',
  favicon: 'img/favicon.ico',

  url: 'https://<org>.github.io',
  baseUrl: '/bbj-ai-strategy/',
  organizationName: '<org>',
  projectName: 'bbj-ai-strategy',
  trailingSlash: false,

  onBrokenLinks: 'throw',       // Fail build on broken internal links
  onBrokenMarkdownLinks: 'warn',

  i18n: {
    defaultLocale: 'en',
    locales: ['en'],
  },

  presets: [
    [
      'classic',
      {
        docs: {
          sidebarPath: './sidebars.ts',
          editUrl: 'https://github.com/<org>/bbj-ai-strategy/tree/main/',
        },
        blog: false,             // Disable blog -- not needed
        theme: {
          customCss: './src/css/custom.css',
        },
      } satisfies Preset.Options,
    ],
  ],

  themeConfig: {
    navbar: {
      title: 'BBj AI Strategy',
      logo: { alt: 'BBj Logo', src: 'img/logo.svg' },
      items: [
        {
          type: 'docSidebar',
          sidebarId: 'strategySidebar',
          position: 'left',
          label: 'Strategy',
        },
        {
          type: 'doc',
          docId: '07-implementation-roadmap/index',
          position: 'left',
          label: 'Roadmap',
        },
        {
          href: 'https://github.com/<org>/bbj-ai-strategy',
          label: 'GitHub',
          position: 'right',
        },
      ],
    },
    footer: {
      style: 'dark',
      links: [
        {
          title: 'Strategy',
          items: [
            { label: 'The BBj Challenge', to: '/docs/01-bbj-challenge' },
            { label: 'Architecture', to: '/docs/02-strategic-architecture' },
            { label: 'Roadmap', to: '/docs/07-implementation-roadmap' },
          ],
        },
        {
          title: 'Community',
          items: [
            { label: 'BASIS International', href: 'https://basis.cloud' },
            { label: 'GitHub', href: 'https://github.com/<org>/bbj-ai-strategy' },
          ],
        },
      ],
      copyright: `Copyright ${new Date().getFullYear()} BASIS International Ltd.`,
    },
    prism: {
      theme: prismThemes.github,
      darkTheme: prismThemes.dracula,
      // additionalLanguages: ['bbj'],  // When custom grammar is ready
    },
  } satisfies Preset.ThemeConfig,
};

export default config;
```

### `_category_.json` Pattern

Each chapter folder gets one of these:

```json
{
  "label": "The BBj Challenge",
  "position": 1,
  "link": {
    "type": "doc",
    "id": "01-bbj-challenge/index"
  },
  "collapsible": true,
  "collapsed": true
}
```

| Field | Purpose |
|-------|---------|
| `label` | Display name in sidebar (no numeric prefix) |
| `position` | Sort order (matches folder prefix number) |
| `link.type: "doc"` | Makes category heading clickable, linking to the chapter's index.md |
| `link.id` | Doc ID (path relative to docs root, without `.md`) |
| `collapsible` | Allows expanding/collapsing the chapter in sidebar |
| `collapsed` | Default collapsed state (true = collapsed for all except current) |

---

## Content Patterns and Conventions

### Admonition Usage

```markdown
:::tip Modern Approach
For new development, always use the BBjAPI object-oriented style.
:::

:::warning Legacy Only
The `WINDOW CREATE` verb is supported but not recommended for new code.
:::

:::note Generation Context
This pattern applies to BBj GUI and DWC generations only.
:::
```

### Tabs for Cross-Generation Examples

```jsx
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
  <TabItem value="dwc" label="DWC (Modern)" default>
    ```bbj
    window! = sysgui!.addWindow(100,100,800,600,"App")
    ```
  </TabItem>
  <TabItem value="vpro5" label="Visual PRO/5">
    ```bbj
    WINDOW CREATE wnd_id, @(0,0), 80, 24, "App"
    ```
  </TabItem>
  <TabItem value="character" label="Character UI">
    ```bbj
    PRINT 'CS',
    PRINT @(10,5),"App"
    ```
  </TabItem>
</Tabs>
```

This pattern is particularly useful for Chapter 1 (showing generation differences) and the appendices (generation reference).

---

## What Connects to What (Component Boundary Map)

```
                    ┌─────────────────────────────┐
                    │     docusaurus.config.ts     │
                    │  (central configuration hub) │
                    └──────────┬──────────────────┘
                               │
              ┌────────────────┼────────────────┐
              │                │                │
              ▼                ▼                ▼
     ┌────────────┐   ┌──────────────┐   ┌──────────┐
     │ sidebars.ts│   │ src/pages/   │   │ src/css/ │
     │            │   │ index.tsx    │   │ custom   │
     └─────┬──────┘   └──────────────┘   └──────────┘
           │                │
           │ reads          │ links to
           ▼                ▼
     ┌─────────────────────────────────────────┐
     │              docs/                       │
     │  ┌──────────────────────────────────┐   │
     │  │ _category_.json  (per folder)    │   │
     │  │ index.md         (chapter entry) │   │
     │  │ *.md             (content pages) │   │
     │  └──────────────────────────────────┘   │
     └─────────────────────────────────────────┘
                         │
                    referenced by
                         │
                         ▼
     ┌─────────────────────────────────────────┐
     │            static/img/                   │
     │  (logo, favicon, diagrams)               │
     └─────────────────────────────────────────┘
                         │
                    all consumed by
                         │
                         ▼
     ┌─────────────────────────────────────────┐
     │         npm run build                    │
     │  → Generates /build (static HTML/JS/CSS) │
     └─────────────────────────────────────────┘
                         │
                    deployed by
                         │
                         ▼
     ┌─────────────────────────────────────────┐
     │   .github/workflows/deploy.yml          │
     │  → GitHub Pages                          │
     └─────────────────────────────────────────┘
```

### Boundary Rules

- **`docusaurus.config.ts`** is the only file that knows about site-level settings (URL, base path, navbar, footer, theme). No doc file should hardcode the site URL.
- **`sidebars.ts`** controls sidebar structure but delegates to `_category_.json` and frontmatter for details. With autogenerated config, it is minimal.
- **`docs/` markdown files** are pure content. They use relative links to reference other docs (`../02-strategic-architecture/index.md`) and Docusaurus-resolved paths for images (`/img/diagram.png`).
- **`src/pages/`** is standalone -- the landing page does not participate in sidebar navigation. It links into docs but is not part of the docs tree.
- **`src/css/custom.css`** affects the entire site theme. Individual component styles use CSS modules (`.module.css` files) scoped to that component.
- **`.github/workflows/deploy.yml`** is decoupled from all content. It only needs `npm ci && npm run build` to produce the deployable artifact.

---

## Potential Gotchas

| Issue | Cause | Prevention |
|-------|-------|------------|
| 404 on GitHub Pages after deploy | `baseUrl` mismatch or `trailingSlash` conflict | Set `baseUrl: '/bbj-ai-strategy/'` and `trailingSlash: false` before first deploy |
| Sidebar shows folder names instead of labels | Missing `_category_.json` | Create `_category_.json` in every chapter folder before adding content |
| Broken links fail the build | `onBrokenLinks: 'throw'` in config | Use relative paths between docs; run `npm run build` locally before pushing |
| Code blocks show no highlighting for BBj | Prism has no built-in BBj language | Use `basic` or `text` as fallback; add custom Prism grammar later |
| Landing page shows Docusaurus default | Forgot to customize `src/pages/index.tsx` | Replace default template content in Phase A scaffold step |
| Chapter pagination skips between chapters | Pages not ordered correctly | Ensure every `.md` has `sidebar_position` frontmatter and every folder has `_category_.json` with `position` |

---

*Research completed: 2026-01-31*
*Source material: `bbj-llm-strategy.md` (~1142 lines), `PROJECT.md`, Docusaurus 3.x documentation*
